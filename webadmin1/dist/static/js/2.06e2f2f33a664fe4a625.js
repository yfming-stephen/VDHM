webpackJsonp([2],{1595:function(e,t,i){var a=i(1596);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(303)("6101f37a",a,!0)},1596:function(e,t,i){t=e.exports=i(125)(!1),t.push([e.i,".page-tabbar-container[data-v-fedba31c]{overflow:hidden}.back[data-v-fedba31c]{background-size:100% 100%;opacity:.9;position:absolute;width:100%;height:100%}.amap-demo[data-v-fedba31c]{height:500px}",""])},1597:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(882),n=i(835),r=(i.n(n),i(840)),o=(i.n(r),i(844));i.n(o);t.default={data:function(){return this.tempMap=[{type:"piecewise",splitNumber:5,min:0,max:50,right:0,top:"50%"}],this.markLine={data:[{name:"平均线",type:"average"}]},this.markPoint={data:[{name:"最大值",type:"max"}]},this.chartSettings={area:!0},this.grid={right:60},this.colors=["#8ec9f2","#c4ccd3"],this.colors2=["#c23531"],{zoom:12,center:[121.5389385,31.21515044],polyline:{path:[],editable:!1},speedData:{columns:["时间","速度"],rows:[]},tempData:{columns:["时间","体温"],rows:[]},heartData:{columns:["时间","心率"],rows:[]},pressureData:{columns:["时间","高压","低压"],rows:[]},dialogVisible:!1,record:{drivingHealth:[],drivingRecord:[]},hash:""}},mounted:function(){this.$route.params.hash;this.hash=this.$route.params.hash,this.getData()},methods:{resetForm:function(e){this.$refs[e].resetFields()},handleCurrentChange:function(e){this.cur_page=e-1,this.getData()},getData:function(){var e=this;Object(a.b)(this.hash,this.cur_page,this.page_size).then(function(t){e.record=t.data,e.record.drivingRecord.forEach(function(t,i){e.speedData.rows.push({"时间":i,"速度":t.speed}),e.tempData.rows.push({"时间":i,"体温":t.bodyTemp}),e.polyline.path.push([t.gps.longitude,t.gps.latitude]),0==i&&(e.center=[Number(t.gps.longitude),Number(t.gps.latitude)])}),e.record.drivingHealth.forEach(function(t,i){e.heartData.rows.push({"时间":i,"心率":t.heartRate}),e.pressureData.rows.push({"时间":i,"高压":t.pressure.high,"低压":t.pressure.low})})})},search:function(){this.is_search=!0},formatter:function(e,t){return e.address},filterTag:function(e,t){return t.tag===e},handleSelectionChange:function(e){this.multipleSelection=e},jumpToDriveRecord:function(e){this.$router.push("/drive/record/"+e)}}}},1598:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"table"},[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-menu"}),e._v("行驶数据")]),e._v(" "),i("el-breadcrumb-item",[e._v("记录")])],1)],1),e._v(" "),i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("行驶相关")])]),e._v(" "),i("el-row",[i("el-col",{attrs:{span:10,offset:1}},[i("ve-line",{attrs:{data:e.speedData,"mark-line":e.markLine,"mark-point":e.markPoint}})],1),e._v(" "),i("el-col",{attrs:{span:10,offset:1}},[i("ve-line",{attrs:{data:e.tempData,grid:e.grid,"visual-map":e.tempMap}})],1)],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:10,offset:1}},[i("ve-line",{attrs:{data:e.heartData,colors:e.colors2}})],1),e._v(" "),i("el-col",{attrs:{span:10,offset:1}},[i("ve-line",{attrs:{data:e.pressureData,settings:e.chartSettings,colors:e.colors}})],1)],1)],1),e._v(" "),i("br"),e._v(" "),i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("行驶轨迹")])]),e._v(" "),i("el-row",[i("div",{staticClass:"amap-page-container"},[i("el-amap",{staticClass:"amap-demo",attrs:{vid:"amap",zoom:e.zoom,center:e.center}},[i("el-amap-polyline",{attrs:{path:e.polyline.path}})],1)],1)])],1)],1)},staticRenderFns:[]}},761:function(e,t,i){i(1595);var a=i(304)(i(1597),i(1598),"data-v-fedba31c",null);e.exports=a.exports},775:function(e,t,i){"use strict";var a=Object.prototype.hasOwnProperty,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),r=function(e){for(var t;e.length;){var i=e.pop();if(t=i.obj[i.prop],Array.isArray(t)){for(var a=[],n=0;n<t.length;++n)void 0!==t[n]&&a.push(t[n]);i.obj[i.prop]=a}}return t};t.arrayToObject=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},a=0;a<e.length;++a)void 0!==e[a]&&(i[a]=e[a]);return i},t.merge=function(e,i,n){if(!i)return e;if("object"!=typeof i){if(Array.isArray(e))e.push(i);else{if("object"!=typeof e)return[e,i];(n.plainObjects||n.allowPrototypes||!a.call(Object.prototype,i))&&(e[i]=!0)}return e}if("object"!=typeof e)return[e].concat(i);var r=e;return Array.isArray(e)&&!Array.isArray(i)&&(r=t.arrayToObject(e,n)),Array.isArray(e)&&Array.isArray(i)?(i.forEach(function(i,r){a.call(e,r)?e[r]&&"object"==typeof e[r]?e[r]=t.merge(e[r],i,n):e.push(i):e[r]=i}),e):Object.keys(i).reduce(function(e,r){var o=i[r];return a.call(e,r)?e[r]=t.merge(e[r],o,n):e[r]=o,e},r)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,i){return e[i]=t[i],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),i="",a=0;a<t.length;++a){var r=t.charCodeAt(a);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122?i+=t.charAt(a):r<128?i+=n[r]:r<2048?i+=n[192|r>>6]+n[128|63&r]:r<55296||r>=57344?i+=n[224|r>>12]+n[128|r>>6&63]+n[128|63&r]:(a+=1,r=65536+((1023&r)<<10|1023&t.charCodeAt(a)),i+=n[240|r>>18]+n[128|r>>12&63]+n[128|r>>6&63]+n[128|63&r])}return i},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],a=0;a<t.length;++a)for(var n=t[a],o=n.obj[n.prop],s=Object.keys(o),l=0;l<s.length;++l){var u=s[l],c=o[u];"object"==typeof c&&null!==c&&-1===i.indexOf(c)&&(t.push({obj:o,prop:u}),i.push(c))}return r(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},776:function(e,t,i){"use strict";var a=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return a.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},777:function(e,t,i){"use strict";var a=i(305),n=i.n(a),r=i(778),o=(i.n(r),i(193)),s=(i.n(o),i(781)),l=n.a.create({baseURL:"/api",timeout:3e4});l.interceptors.response.use(function(e){var t=e.data,i=t.state,a=t.message;return i!==s.a?(Object(o.Message)({message:a||"操作失败!",type:"error",duration:3e3}),Promise.reject("操作失败")):e.data},function(e){return Object(o.Message)({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}),t.a=l},778:function(e,t,i){"use strict";var a=i(779),n=i(780),r=i(776);e.exports={formats:r,parse:n,stringify:a}},779:function(e,t,i){"use strict";var a=i(775),n=i(776),r={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,serializeDate:function(e){return o.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,i,n,r,o,l,u,c,p,h,d,f){var g=t;if("function"==typeof u)g=u(i,g);else if(g instanceof Date)g=h(g);else if(null===g){if(r)return l&&!f?l(i,s.encoder):i;g=""}if("string"==typeof g||"number"==typeof g||"boolean"==typeof g||a.isBuffer(g)){if(l){return[d(f?i:l(i,s.encoder))+"="+d(l(g,s.encoder))]}return[d(i)+"="+d(String(g))]}var v=[];if(void 0===g)return v;var m;if(Array.isArray(u))m=u;else{var y=Object.keys(g);m=c?y.sort(c):y}for(var b=0;b<m.length;++b){var x=m[b];o&&null===g[x]||(v=Array.isArray(g)?v.concat(e(g[x],n(i,x),n,r,o,l,u,c,p,h,d,f)):v.concat(e(g[x],i+(p?"."+x:"["+x+"]"),n,r,o,l,u,c,p,h,d,f)))}return v};e.exports=function(e,t){var i=e,o=t?a.assign({},t):{};if(null!==o.encoder&&void 0!==o.encoder&&"function"!=typeof o.encoder)throw new TypeError("Encoder has to be a function.");var u=void 0===o.delimiter?s.delimiter:o.delimiter,c="boolean"==typeof o.strictNullHandling?o.strictNullHandling:s.strictNullHandling,p="boolean"==typeof o.skipNulls?o.skipNulls:s.skipNulls,h="boolean"==typeof o.encode?o.encode:s.encode,d="function"==typeof o.encoder?o.encoder:s.encoder,f="function"==typeof o.sort?o.sort:null,g=void 0!==o.allowDots&&o.allowDots,v="function"==typeof o.serializeDate?o.serializeDate:s.serializeDate,m="boolean"==typeof o.encodeValuesOnly?o.encodeValuesOnly:s.encodeValuesOnly;if(void 0===o.format)o.format=n.default;else if(!Object.prototype.hasOwnProperty.call(n.formatters,o.format))throw new TypeError("Unknown format option provided.");var y,b,x=n.formatters[o.format];"function"==typeof o.filter?(b=o.filter,i=b("",i)):Array.isArray(o.filter)&&(b=o.filter,y=b);var _=[];if("object"!=typeof i||null===i)return"";var S;S=o.arrayFormat in r?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var M=r[S];y||(y=Object.keys(i)),f&&y.sort(f);for(var D=0;D<y.length;++D){var V=y[D];p&&null===i[V]||(_=_.concat(l(i[V],V,M,c,p,h?d:null,b,f,g,v,x,m)))}var w=_.join(u),I=!0===o.addQueryPrefix?"?":"";return w.length>0?I+w:""}},780:function(e,t,i){"use strict";var a=i(775),n=Object.prototype.hasOwnProperty,r={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:a.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(e,t){for(var i={},a=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=a.split(t.delimiter,o),l=0;l<s.length;++l){var u,c,p=s[l],h=p.indexOf("]="),d=-1===h?p.indexOf("="):h+1;-1===d?(u=t.decoder(p,r.decoder),c=t.strictNullHandling?null:""):(u=t.decoder(p.slice(0,d),r.decoder),c=t.decoder(p.slice(d+1),r.decoder)),n.call(i,u)?i[u]=[].concat(i[u]).concat(c):i[u]=c}return i},s=function(e,t,i){for(var a=t,n=e.length-1;n>=0;--n){var r,o=e[n];if("[]"===o)r=[],r=r.concat(a);else{r=i.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,l=parseInt(s,10);!isNaN(l)&&o!==s&&String(l)===s&&l>=0&&i.parseArrays&&l<=i.arrayLimit?(r=[],r[l]=a):r[s]=a}a=r}return a},l=function(e,t,i){if(e){var a=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,r=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=r.exec(a),u=l?a.slice(0,l.index):a,c=[];if(u){if(!i.plainObjects&&n.call(Object.prototype,u)&&!i.allowPrototypes)return;c.push(u)}for(var p=0;null!==(l=o.exec(a))&&p<i.depth;){if(p+=1,!i.plainObjects&&n.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+a.slice(l.index)+"]"),s(c,t,i)}};e.exports=function(e,t){var i=t?a.assign({},t):{};if(null!==i.decoder&&void 0!==i.decoder&&"function"!=typeof i.decoder)throw new TypeError("Decoder has to be a function.");if(i.ignoreQueryPrefix=!0===i.ignoreQueryPrefix,i.delimiter="string"==typeof i.delimiter||a.isRegExp(i.delimiter)?i.delimiter:r.delimiter,i.depth="number"==typeof i.depth?i.depth:r.depth,i.arrayLimit="number"==typeof i.arrayLimit?i.arrayLimit:r.arrayLimit,i.parseArrays=!1!==i.parseArrays,i.decoder="function"==typeof i.decoder?i.decoder:r.decoder,i.allowDots="boolean"==typeof i.allowDots?i.allowDots:r.allowDots,i.plainObjects="boolean"==typeof i.plainObjects?i.plainObjects:r.plainObjects,i.allowPrototypes="boolean"==typeof i.allowPrototypes?i.allowPrototypes:r.allowPrototypes,i.parameterLimit="number"==typeof i.parameterLimit?i.parameterLimit:r.parameterLimit,i.strictNullHandling="boolean"==typeof i.strictNullHandling?i.strictNullHandling:r.strictNullHandling,""===e||null===e||void 0===e)return i.plainObjects?Object.create(null):{};for(var n="string"==typeof e?o(e,i):e,s=i.plainObjects?Object.create(null):{},u=Object.keys(n),c=0;c<u.length;++c){var p=u[c],h=l(p,n[p],i);s=a.merge(s,h,i)}return a.compact(s)}},781:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var a=1},782:function(e,t,i){function a(e){var t=e.pieceList;e.hasSpecialVisual=!1,g.each(t,function(t,i){t.originIndex=i,null!=t.visual&&(e.hasSpecialVisual=!0)})}function n(e){var t=e.categories,i=e.visual,a=e.categoryMap={};if(b(t,function(e,t){a[e]=t}),!g.isArray(i)){var n=[];g.isObject(i)?b(i,function(e,t){var i=a[t];n[null!=i?i:_]=e}):n[_]=i,i=d(e,n)}for(var r=t.length-1;r>=0;r--)null==i[r]&&(delete a[t[r]],t.pop())}function r(e,t){var i=e.visual,a=[];g.isObject(i)?b(i,function(e){a.push(e)}):null!=i&&a.push(i);var n={color:1,symbol:1};t||1!==a.length||n.hasOwnProperty(e.type)||(a[1]=a[0]),d(e,a)}function o(e){return{applyVisual:function(t,i,a){t=this.mapValueToVisual(t),a("color",e(i("color"),t))},_doMap:p([0,1])}}function s(e){var t=this.option.visual;return t[Math.round(y(e,[0,1],[0,t.length-1],!0))]||{}}function l(e){return function(t,i,a){a(e,this.mapValueToVisual(t))}}function u(e){var t=this.option.visual;return t[this.option.loop&&e!==_?e%t.length:e]}function c(){return this.option.visual[0]}function p(e){return{linear:function(t){return y(t,e,this.option.visual,!0)},category:u,piecewise:function(t,i){var a=h.call(this,i);return null==a&&(a=y(t,e,this.option.visual,!0)),a},fixed:c}}function h(e){var t=this.option,i=t.pieceList;if(t.hasSpecialVisual){var a=S.findPieceIndex(e,i),n=i[a];if(n&&n.visual)return n.visual[this.type]}}function d(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=g.map(t,function(e){return v.parse(e)})),t}function f(e,t,i){return e?t<=i:t<i}var g=i(1),v=i(84),m=i(14),y=m.linearMap,b=g.each,x=g.isObject,_=-1,S=function(e){var t=e.mappingMethod,i=e.type,o=this.option=g.clone(e);this.type=i,this.mappingMethod=t,this._normalizeData=D[t];var s=M[i];this.applyVisual=s.applyVisual,this.getColorMapper=s.getColorMapper,this._doMap=s._doMap[t],"piecewise"===t?(r(o),a(o)):"category"===t?o.categories?n(o):r(o,!0):(g.assert("linear"!==t||o.dataExtent),r(o))};S.prototype={constructor:S,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return g.bind(this._normalizeData,this)}};var M=S.visualHandlers={color:{applyVisual:l("color"),getColorMapper:function(){var e=this.option;return g.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),u.call(this,e)}:function(t,i,a){var n=!!a;return!i&&(t=this._normalizeData(t)),a=v.fastLerp(t,e.parsedVisual,a),n?a:v.stringify(a,"rgba")},this)},_doMap:{linear:function(e){return v.stringify(v.fastLerp(e,this.option.parsedVisual),"rgba")},category:u,piecewise:function(e,t){var i=h.call(this,t);return null==i&&(i=v.stringify(v.fastLerp(e,this.option.parsedVisual),"rgba")),i},fixed:c}},colorHue:o(function(e,t){return v.modifyHSL(e,t)}),colorSaturation:o(function(e,t){return v.modifyHSL(e,null,t)}),colorLightness:o(function(e,t){return v.modifyHSL(e,null,null,t)}),colorAlpha:o(function(e,t){return v.modifyAlpha(e,t)}),opacity:{applyVisual:l("opacity"),_doMap:p([0,1])},liftZ:{applyVisual:l("liftZ"),_doMap:{linear:c,category:c,piecewise:c,fixed:c}},symbol:{applyVisual:function(e,t,i){var a=this.mapValueToVisual(e);if(g.isString(a))i("symbol",a);else if(x(a))for(var n in a)a.hasOwnProperty(n)&&i(n,a[n])},_doMap:{linear:s,category:u,piecewise:function(e,t){var i=h.call(this,t);return null==i&&(i=s.call(this,e)),i},fixed:c}},symbolSize:{applyVisual:l("symbolSize"),_doMap:p([0,1])}},D={linear:function(e){return y(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,i=S.findPieceIndex(e,t,!0);if(null!=i)return y(i,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?_:t},fixed:g.noop};S.listVisualTypes=function(){var e=[];return g.each(M,function(t,i){e.push(i)}),e},S.addVisualHandler=function(e,t){M[e]=t},S.isValidType=function(e){return M.hasOwnProperty(e)},S.eachVisual=function(e,t,i){g.isObject(e)?g.each(e,t,i):t.call(i,e)},S.mapVisual=function(e,t,i){var a,n=g.isArray(e)?[]:g.isObject(e)?{}:(a=!0,null);return S.eachVisual(e,function(e,r){var o=t.call(i,e,r);a?n=o:n[r]=o}),n},S.retrieveVisuals=function(e){var t,i={};return e&&b(M,function(a,n){e.hasOwnProperty(n)&&(i[n]=e[n],t=!0)}),t?i:null},S.prepareVisualTypes=function(e){if(x(e)){var t=[];b(e,function(e,i){t.push(i)}),e=t}else{if(!g.isArray(e))return[];e=e.slice()}return e.sort(function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1}),e},S.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},S.findPieceIndex=function(e,t,i){function a(t,i){var a=Math.abs(t-e);a<r&&(r=a,n=i)}for(var n,r=1/0,o=0,s=t.length;o<s;o++){var l=t[o].value;if(null!=l){if(l===e||"string"==typeof l&&l===e+"")return o;i&&a(l,o)}}for(var o=0,s=t.length;o<s;o++){var u=t[o],c=u.interval,p=u.close;if(c){if(c[0]===-1/0){if(f(p[1],e,c[1]))return o}else if(c[1]===1/0){if(f(p[0],c[0],e))return o}else if(f(p[0],c[0],e)&&f(p[1],e,c[1]))return o;i&&a(c[0],o),i&&a(c[1],o)}}if(i)return e===1/0?t.length-1:e===-1/0?0:n};var V=S;e.exports=V},784:function(e,t){function i(e,t,i,r,o,s){e=e||0;var l=i[1]-i[0];if(null!=o&&(o=n(o,[0,l])),null!=s&&(s=Math.max(s,null!=o?o:0)),"all"===r){var u=Math.abs(t[1]-t[0]);u=n(u,[0,l]),o=s=n(u,[o,s]),r=0}t[0]=n(t[0],i),t[1]=n(t[1],i);var c=a(t,r);t[r]+=e;var p=o||0,h=i.slice();c.sign<0?h[0]+=p:h[1]-=p,t[r]=n(t[r],h);var d=a(t,r);null!=o&&(d.sign!==c.sign||d.span<o)&&(t[1-r]=t[r]+c.sign*o);var d=a(t,r);return null!=s&&d.span>s&&(t[1-r]=t[r]+d.sign*s),t}function a(e,t){var i=e[t]-e[1-t];return{span:Math.abs(i),sign:i>0?-1:i<0?1:t?-1:1}}function n(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}e.exports=i},788:function(e,t,i){function a(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function n(e,t,i){function a(){var e=function(){};return e.prototype.__hidden=e.prototype,new e}var n={};return c(t,function(t){var r=n[t]=a();c(e[t],function(e,a){if(u.isValidType(a)){var n={type:a,visual:e};i&&i(n,t),r[a]=new u(n),"opacity"===a&&(n=l.clone(n),n.type="colorAlpha",r.__hidden.__alphaForOpacity=new u(n))}})}),n}function r(e,t,i){var n;l.each(i,function(e){t.hasOwnProperty(e)&&a(t[e])&&(n=!0)}),n&&l.each(i,function(i){t.hasOwnProperty(i)&&a(t[i])?e[i]=l.clone(t[i]):delete e[i]})}function o(e,t,i,a,n,r){function o(e){return i.getItemVisual(h,e)}function s(e,t){i.setItemVisual(h,e,t)}function c(e,l){h=null==r?e:l;var u=i.getRawDataItem(h);if(!u||!1!==u.visualMap)for(var c=a.call(n,e),d=t[c],f=p[c],g=0,v=f.length;g<v;g++){var m=f[g];d[m]&&d[m].applyVisual(e,o,s)}}var p={};l.each(e,function(e){var i=u.prepareVisualTypes(t[e]);p[e]=i});var h;null==r?i.each(c):i.each([r],c)}function s(e,t,i,a){function n(e,n){function o(e){return n.getItemVisual(l,e)}function s(e,t){n.setItemVisual(l,e,t)}null!=a&&(a=n.getDimension(a));for(var l;null!=(l=e.next());){var u=n.getRawDataItem(l);if(!u||!1!==u.visualMap)for(var c=null!=a?n.get(a,l,!0):l,p=i(c),h=t[p],d=r[p],f=0,g=d.length;f<g;f++){var v=d[f];h[v]&&h[v].applyVisual(c,o,s)}}}var r={};return l.each(e,function(e){var i=u.prepareVisualTypes(t[e]);r[e]=i}),{progress:n}}var l=i(1),u=i(782),c=l.each;t.createVisualMappings=n,t.replaceVisualOption=r,t.applyVisual=o,t.incrementalApplyVisual=s},794:function(e,t,i){function a(e){l.defaultEmphasis(e,"label",["show"])}var n=i(16),r=(n.__DEV__,i(13)),o=i(1),s=i(19),l=i(6),u=i(32),c=i(319),p=u.addCommas,h=u.encodeHTML,d=r.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},isAnimationEnabled:function(){if(s.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(e,t){this._mergeOption(e,t,!1,!1)},_mergeOption:function(e,t,i,n){var r=this.constructor,s=this.mainType+"Model";i||t.eachSeries(function(e){var i=e.get(this.mainType,!0),l=e[s];if(!i||!i.data)return void(e[s]=null);l?l._mergeOption(i,t,!0):(n&&a(i),o.each(i.data,function(e){e instanceof Array?(a(e[0]),a(e[1])):a(e)}),l=new r(i,this,t),o.extend(l,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),l.__hostSeries=e),e[s]=l},this)},formatTooltip:function(e,t,i,a){var n=this.getData(),r=this.getRawValue(e),s=o.isArray(r)?o.map(r,p).join(", "):p(r),l=n.getName(e),u=h(this.name),c="html"===a?"<br/>":"\n";return(null!=r||l)&&(u+=c),l&&(u+=h(l),null!=r&&(u+=" : ")),null!=r&&(u+=h(s)),u},getData:function(){return this._data},setData:function(e){this._data=e}});o.mixin(d,c);var f=d;e.exports=f},795:function(e,t,i){function a(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function n(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function r(e,t,i,a,n,r){var o=[],s=g(t,a),l=s?t.getCalculationInfo("stackResultDimension"):a,u=p(t,l,e),c=t.indicesOfNearest(l,u)[0];o[n]=t.get(i,c),o[r]=t.get(l,c);var h=t.get(a,c),f=d.getPrecision(t.get(a,c));return f=Math.min(f,20),f>=0&&(o[r]=+o[r].toFixed(f)),[o,h]}function o(e,t){var i=e.getData(),a=e.coordinateSystem;if(t&&!n(t)&&!h.isArray(t.coord)&&a){var r=a.dimensions,o=s(t,i,a,e);if(t=h.clone(t),t.type&&y[t.type]&&o.baseAxis&&o.valueAxis){var l=v(r,o.baseAxis.dim),u=v(r,o.valueAxis.dim),c=y[t.type](i,o.baseDataDim,o.valueDataDim,l,u);t.coord=c[0],t.value=c[1]}else{for(var d=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],f=0;f<2;f++)y[d[f]]&&(d[f]=p(i,i.mapDimension(r[f]),d[f]));t.coord=d}}return t}function s(e,t,i,a){var n={};return null!=e.valueIndex||null!=e.valueDim?(n.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,n.valueAxis=i.getAxis(l(a,n.valueDataDim)),n.baseAxis=i.getOtherAxis(n.valueAxis),n.baseDataDim=t.mapDimension(n.baseAxis.dim)):(n.baseAxis=a.getBaseAxis(),n.valueAxis=i.getOtherAxis(n.baseAxis),n.baseDataDim=t.mapDimension(n.baseAxis.dim),n.valueDataDim=t.mapDimension(n.valueAxis.dim)),n}function l(e,t){var i=e.getData(),a=i.dimensions;t=i.getDimension(t);for(var n=0;n<a.length;n++){var r=i.getDimensionInfo(a[n]);if(r.name===t)return r.coordDim}}function u(e,t){return!(e&&e.containData&&t.coord&&!a(t))||e.containData(t.coord)}function c(e,t,i,a){return a<2?e.coord&&e.coord[a]:e.value}function p(e,t,i){if("average"===i){var a=0,n=0;return e.each(t,function(e,t){isNaN(e)||(a+=e,n++)}),a/n}return"median"===i?e.getMedian(t):e.getDataExtent(t,!0)["max"===i?1:0]}var h=i(1),d=i(14),f=i(68),g=f.isDimensionStacked,v=h.indexOf,m=h.curry,y={min:m(r,"min"),max:m(r,"max"),average:m(r,"average")};t.dataTransform=o,t.getAxisInfo=s,t.dataFilter=u,t.dimValueGetter=c,t.numCalculate=p},796:function(e,t,i){var a=i(13),n=i(1),r=a.extendComponentView({type:"marker",init:function(){this.markerGroupMap=n.createHashMap()},render:function(e,t,i){var a=this.markerGroupMap;a.each(function(e){e.__keep=!1});var n=this.type+"Model";t.eachSeries(function(e){var a=e[n];a&&this.renderSeries(e,a,t,i)},this),a.each(function(e){!e.__keep&&this.group.remove(e.group)},this)},renderSeries:function(){}});e.exports=r},798:function(e,t,i){function a(e){this._ctor=e||p,this.group=new c.Group}function n(e,t,i,a){if(u(t.getItemLayout(i))){var n=new e._ctor(t,i,a);t.setItemGraphicEl(i,n),e.group.add(n)}}function r(e,t,i,a,n,r){var o=t.getItemGraphicEl(a);if(!u(i.getItemLayout(n)))return void e.group.remove(o);o?o.updateData(i,n,r):o=new e._ctor(i,n,r),i.setItemGraphicEl(n,o),e.group.add(o)}function o(e){return e.animators&&e.animators.length>0}function s(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function l(e){return isNaN(e[0])||isNaN(e[1])}function u(e){return!l(e[0])&&!l(e[1])}var c=i(8),p=i(799),h=a.prototype;h.isPersistent=function(){return!0},h.updateData=function(e){var t=this,i=t.group,a=t._lineData;t._lineData=e,a||i.removeAll();var o=s(e);e.diff(a).add(function(i){n(t,e,i,o)}).update(function(i,n){r(t,a,e,n,i,o)}).remove(function(e){i.remove(a.getItemGraphicEl(e))}).execute()},h.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},h.incrementalPrepareUpdate=function(e){this._seriesScope=s(e),this._lineData=null,this.group.removeAll()},h.incrementalUpdate=function(e,t){function i(e){e.isGroup||o(e)||(e.incremental=e.useHoverLayer=!0)}for(var a=e.start;a<e.end;a++){if(u(t.getItemLayout(a))){var n=new this._ctor(t,a,this._seriesScope);n.traverse(i),this.group.add(n),t.setItemGraphicEl(a,n)}}},h.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},h._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var d=a;e.exports=d},799:function(e,t,i){function a(e){return"_"+e+"Type"}function n(e,t,i){var a=t.getItemVisual(i,e);if(a&&"none"!==a){var n=t.getItemVisual(i,"color"),r=t.getItemVisual(i,e+"Size"),o=t.getItemVisual(i,e+"Rotate");u.isArray(r)||(r=[r,r]);var s=p.createSymbol(a,-r[0]/2,-r[1]/2,r[0],r[1],n);return s.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,s.name=e,s}}function r(e){var t=new h({name:"line",subPixelOptimize:!0});return o(t.shape,e),t}function o(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var i=t[2];i?(e.cpx1=i[0],e.cpy1=i[1]):(e.cpx1=NaN,e.cpy1=NaN)}function s(){var e=this,t=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),a=e.childOfName("label");if(t||i||!a.ignore){for(var n=1,r=this.parent;r;)r.scale&&(n/=r.scale[0]),r=r.parent;var o=e.childOfName("line");if(this.__dirty||o.__dirty){var s=o.shape.percent,l=o.pointAt(0),u=o.pointAt(s),p=c.sub([],u,l);if(c.normalize(p,p),t){t.attr("position",l);var h=t.__specifiedRotation;if(null==h){var d=o.tangentAt(0);t.attr("rotation",Math.PI/2-Math.atan2(d[1],d[0]))}else t.attr("rotation",h);t.attr("scale",[n*s,n*s])}if(i){i.attr("position",u);var h=i.__specifiedRotation;if(null==h){var d=o.tangentAt(1);i.attr("rotation",-Math.PI/2-Math.atan2(d[1],d[0]))}else i.attr("rotation",h);i.attr("scale",[n*s,n*s])}if(!a.ignore){a.attr("position",u);var f,g,v,m,y=a.__labelDistance,b=y[0]*n,x=y[1]*n,_=s/2,d=o.tangentAt(_),S=[d[1],-d[0]],M=o.pointAt(_);S[1]>0&&(S[0]=-S[0],S[1]=-S[1]);var D=d[0]<0?-1:1;if("start"!==a.__position&&"end"!==a.__position){var V=-Math.atan2(d[1],d[0]);u[0]<l[0]&&(V=Math.PI+V),a.attr("rotation",V)}var w;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-x,v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=x,v="top";break;default:w=0,v="middle"}switch(a.__position){case"end":f=[p[0]*b+u[0],p[1]*x+u[1]],g=p[0]>.8?"left":p[0]<-.8?"right":"center",v=p[1]>.8?"top":p[1]<-.8?"bottom":"middle";break;case"start":f=[-p[0]*b+l[0],-p[1]*x+l[1]],g=p[0]>.8?"right":p[0]<-.8?"left":"center",v=p[1]>.8?"bottom":p[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":f=[b*D+l[0],l[1]+w],g=d[0]<0?"right":"left",m=[-b*D,-w];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":f=[M[0],M[1]+w],g="center",m=[0,-w];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":f=[-b*D+u[0],u[1]+w],g=d[0]>=0?"right":"left",m=[b*D,-w]}a.attr({style:{textVerticalAlign:a.__verticalAlign||v,textAlign:a.__textAlign||g},position:f,scale:[n,n],origin:m})}}}}function l(e,t,i){d.Group.call(this),this._createLine(e,t,i)}var u=i(1),c=i(18),p=i(95),h=i(843),d=i(8),f=i(14),g=f.round,v=["fromSymbol","toSymbol"],m=l.prototype;m.beforeUpdate=s,m._createLine=function(e,t,i){var o=e.hostModel,s=e.getItemLayout(t),l=r(s);l.shape.percent=0,d.initProps(l,{shape:{percent:1}},o,t),this.add(l);var c=new d.Text({name:"label",lineLabelOriginalOpacity:1});this.add(c),u.each(v,function(i){var r=n(i,e,t);this.add(r),this[a(i)]=e.getItemVisual(t,i)},this),this._updateCommonStl(e,t,i)},m.updateData=function(e,t,i){var r=e.hostModel,s=this.childOfName("line"),l=e.getItemLayout(t),c={shape:{}};o(c.shape,l),d.updateProps(s,c,r,t),u.each(v,function(i){var r=e.getItemVisual(t,i),o=a(i);if(this[o]!==r){this.remove(this.childOfName(i));var s=n(i,e,t);this.add(s)}this[o]=r},this),this._updateCommonStl(e,t,i)},m._updateCommonStl=function(e,t,i){var a=e.hostModel,n=this.childOfName("line"),r=i&&i.lineStyle,o=i&&i.hoverLineStyle,s=i&&i.labelModel,l=i&&i.hoverLabelModel;if(!i||e.hasItemOption){var c=e.getItemModel(t);r=c.getModel("lineStyle").getLineStyle(),o=c.getModel("emphasis.lineStyle").getLineStyle(),s=c.getModel("label"),l=c.getModel("emphasis.label")}var p=e.getItemVisual(t,"color"),h=u.retrieve3(e.getItemVisual(t,"opacity"),r.opacity,1);n.useStyle(u.defaults({strokeNoScale:!0,fill:"none",stroke:p,opacity:h},r)),n.hoverStyle=o,u.each(v,function(e){var t=this.childOfName(e);t&&(t.setColor(p),t.setStyle({opacity:h}))},this);var f,m,y=s.getShallow("show"),b=l.getShallow("show"),x=this.childOfName("label");if((y||b)&&(f=p||"#000",null==(m=a.getFormattedLabel(t,"normal",e.dataType)))){var _=a.getRawValue(t);m=null==_?e.getName(t):isFinite(_)?g(_):_}var S=y?m:null,M=b?u.retrieve2(a.getFormattedLabel(t,"emphasis",e.dataType),m):null,D=x.style;if(null!=S||null!=M){d.setTextStyle(x.style,s,{text:S},{autoColor:f}),x.__textAlign=D.textAlign,x.__verticalAlign=D.textVerticalAlign,x.__position=s.get("position")||"middle";var V=s.get("distance");u.isArray(V)||(V=[V,V]),x.__labelDistance=V}x.hoverStyle=null!=M?{text:M,textFill:l.getTextColor(!0),fontStyle:l.getShallow("fontStyle"),fontWeight:l.getShallow("fontWeight"),fontSize:l.getShallow("fontSize"),fontFamily:l.getShallow("fontFamily")}:{text:null},x.ignore=!y&&!b,d.setHoverStyle(this)},m.highlight=function(){this.trigger("emphasis")},m.downplay=function(){this.trigger("normal")},m.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},m.setLinePoints=function(e){var t=this.childOfName("line");o(t.shape,e),t.dirty()},u.inherits(l,d.Group);var y=l;e.exports=y},803:function(e,t,i){function a(e){var t=e&&e.visualMap;r.isArray(t)||(t=t?[t]:[]),o(t,function(e){if(e){n(e,"splitList")&&!n(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&r.isArray(t)&&o(t,function(e){r.isObject(e)&&(n(e,"start")&&!n(e,"min")&&(e.min=e.start),n(e,"end")&&!n(e,"max")&&(e.max=e.end))})}})}function n(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var r=i(1),o=r.each;e.exports=a},804:function(e,t,i){i(44).registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})},805:function(e,t,i){function a(e,t,i,a){function n(e){return u[e]}function r(e,t){u[e]=t}for(var o=t.targetVisuals[a],l=s.prepareVisualTypes(o),u={color:e.getData().getVisual("color")},c=0,p=l.length;c<p;c++){var h=l[c],d=o["opacity"===h?"__alphaForOpacity":h];d&&d.applyVisual(i,n,r)}return u.color}var n=i(13),r=i(1),o=i(788),s=i(782),l=n.PRIORITY.VISUAL.COMPONENT;n.registerVisual(l,{createOnAllSeries:!0,reset:function(e,t){var i=[];return t.eachComponent("visualMap",function(t){var a=e.pipelineContext;!t.isTargetSeries(e)||a&&a.large||i.push(o.incrementalApplyVisual(t.stateList,t.targetVisuals,r.bind(t.getValueState,t),t.getDataDimension(e.getData())))}),i}}),n.registerVisual(l,{createOnAllSeries:!0,reset:function(e,t){var i=e.getData(),n=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(e)){var o=t.getVisualMeta(r.bind(a,null,e,t))||{stops:[],outerColors:[]},s=t.getDataDimension(i),l=i.getDimensionInfo(s);null!=l&&(o.dimension=l.index,n.push(o))}}),e.getData().setVisual("visualMeta",n)}})},806:function(e,t,i){var a=i(13),n=i(1),r=i(19),o=i(807),s=i(782),l=i(788),u=i(6),c=i(14),p=s.mapVisual,h=s.eachVisual,d=n.isArray,f=n.each,g=c.asc,v=c.linearMap,m=n.noop,y=a.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(e,i)},optionUpdated:function(e,t){var i=this.option;r.canvasSupported||(i.realtime=!1),!t&&l.replaceVisualOption(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=n.bind(e,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,t,e),this.targetVisuals=l.createVisualMappings(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(e,i){t.push(i)}):t=u.normalizeToArray(e),t},eachTargetSeries:function(e,t){n.each(this.getTargetSeriesIndices(),function(i){e.call(t,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(i){i===e&&(t=!0)}),t},formatValueText:function(e,t,i){function a(e){return e===u[0]?"min":e===u[1]?"max":(+e).toFixed(Math.min(l,20))}var r,o,s=this.option,l=s.precision,u=this.dataBound,c=s.formatter;return i=i||["<",">"],n.isArray(e)&&(e=e.slice(),r=!0),o=t?e:r?[a(e[0]),a(e[1])]:a(e),n.isString(c)?c.replace("{value}",r?o[0]:o).replace("{value2}",r?o[1]:o):n.isFunction(c)?r?c(e[0],e[1]):c(e):r?e[0]===u[0]?i[0]+" "+o[1]:e[1]===u[1]?i[1]+" "+o[0]:o[0]+" - "+o[1]:o},resetExtent:function(){var e=this.option,t=g([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension,i=e.dimensions;if(null!=t||i.length){if(null!=t)return e.getDimension(t);for(var a=e.dimensions,n=a.length-1;n>=0;n--){var r=a[n];if(!e.getDimensionInfo(r).isCalculationCoord)return r}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function e(e){d(r.color)&&!e.inRange&&(e.inRange={color:r.color.slice().reverse()}),e.inRange=e.inRange||{color:a.get("gradientColor")},f(this.stateList,function(t){var i=e[t];if(n.isString(i)){var a=o.get(i,"active",g);a?(e[t]={},e[t][i]=a):delete e[t]}},this)}function t(e,t,i){var a=e[t],n=e[i];a&&!n&&(n=e[i]={},f(a,function(e,t){if(s.isValidType(t)){var i=o.get(t,"inactive",g);null!=i&&(n[t]=i,"color"!==t||n.hasOwnProperty("opacity")||n.hasOwnProperty("colorAlpha")||(n.opacity=[0,0]))}}))}function i(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,a=this.get("inactiveColor");f(this.stateList,function(r){var o=this.itemSize,s=e[r];s||(s=e[r]={color:g?a:[a]}),null==s.symbol&&(s.symbol=t&&n.clone(t)||(g?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=i&&n.clone(i)||(g?o[0]:[o[0],o[0]])),s.symbol=p(s.symbol,function(e){return"none"===e||"square"===e?"roundRect":e});var l=s.symbolSize;if(null!=l){var u=-1/0;h(l,function(e){e>u&&(u=e)}),s.symbolSize=p(l,function(e){return v(e,[0,u],[0,o[0]],!0)})}},this)}var a=this.ecModel,r=this.option,l={inRange:r.inRange,outOfRange:r.outOfRange},u=r.target||(r.target={}),c=r.controller||(r.controller={});n.merge(u,l),n.merge(c,l);var g=this.isCategory();e.call(this,u),e.call(this,c),t.call(this,u,"inRange","outOfRange"),i.call(this,c)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:m,getValueState:m,getVisualMeta:m}),b=y;e.exports=b},807:function(e,t,i){var a=i(1),n={get:function(e,t,i){var n=a.clone((r[e]||{})[t]);return i&&a.isArray(n)?n[n.length-1]:n}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},o=n;e.exports=o},808:function(e,t,i){var a=i(13),n=i(1),r=i(8),o=i(32),s=i(42),l=i(782),u=a.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t,this.visualMapModel},render:function(e,t,i,a){if(this.visualMapModel=e,!1===e.get("show"))return void this.group.removeAll();this.doRender.apply(this,arguments)},renderBackground:function(e){var t=this.visualMapModel,i=o.normalizeCssArray(t.get("padding")||0),a=e.getBoundingRect();e.add(new r.Rect({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,i){function a(e){return u[e]}function r(e,t){u[e]=t}i=i||{};var o=i.forceState,s=this.visualMapModel,u={};if("symbol"===t&&(u.symbol=s.get("itemSymbol")),"color"===t){var c=s.get("contentColor");u.color=c}var p=s.controllerVisuals[o||s.getValueState(e)],h=l.prepareVisualTypes(p);return n.each(h,function(n){var o=p[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",o=p.__alphaForOpacity),l.dependsOn(n,t)&&o&&o.applyVisual(e,a,r)}),u[t]},positionGroup:function(e){var t=this.visualMapModel,i=this.api;s.positionElement(e,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:n.noop});e.exports=u},809:function(e,t,i){function a(e,t,i){var a=e.option,n=a.align;if(null!=n&&"auto"!==n)return n;for(var r={width:t.getWidth(),height:t.getHeight()},o="horizontal"===a.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],u=l[o],c=[0,null,10],p={},h=0;h<3;h++)p[l[1-o][h]]=c[h],p[u[h]]=2===h?i[0]:a[u[h]];var d=[["x","width",3],["y","height",0]][o],f=s(p,r,a.padding);return u[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*r[d[1]]?0:1]}function n(e,t){return r.each(e||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var r=i(1),o=i(42),s=o.getLayoutRect;t.getItemAlign=a,t.makeHighDownBatch=n},810:function(e,t,i){var a=i(13),n={type:"selectDataRange",event:"dataRangeSelected",update:"update"};a.registerAction(n,function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})})},811:function(e,t,i){var a=i(13),n=i(803);i(804),i(805),i(836),i(837),i(810),a.registerPreprocessor(n)},812:function(e,t,i){var a=i(13),n=i(803);i(804),i(805),i(838),i(839),i(810),a.registerPreprocessor(n)},835:function(e,t,i){i(811),i(812)},836:function(e,t,i){function a(e,t,i){if(i[0]===i[1])return i.slice();for(var a=(i[1]-i[0])/200,n=i[0],r=[],o=0;o<=200&&n<i[1];o++)r.push(n),n+=a;return r.push(i[1]),r}var n=i(1),r=i(806),o=i(14),s=[20,140],l=r.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){l.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){l.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=s[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=s[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):n.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){r.prototype.completeVisualOption.apply(this,arguments),n.each(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=o.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=e)&&(t[1]>=i[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(i){var a=[],n=i.getData();n.each(this.getDataDimension(n),function(t,i){e[0]<=t&&t<=e[1]&&a.push(i)},this),t.push({seriesId:i.id,dataIndex:a})},this),t},getVisualMeta:function(e){function t(t,i){r.push({value:t,color:e(t,i)})}for(var i=a(this,"outOfRange",this.getExtent()),n=a(this,"inRange",this.option.range.slice()),r=[],o=0,s=0,l=n.length,u=i.length;s<u&&(!n.length||i[s]<=n[0]);s++)i[s]<n[o]&&t(i[s],"outOfRange");for(var c=1;o<l;o++,c=0)c&&r.length&&t(n[o],"outOfRange"),t(n[o],"inRange");for(var c=1;s<u;s++)(!n.length||n[n.length-1]<i[s])&&(c&&(r.length&&t(r[r.length-1].value,"outOfRange"),c=0),t(i[s],"outOfRange"));var p=r.length;return{stops:r,outerColors:[p?r[0].color:"transparent",p?r[p-1].color:"transparent"]}}}),u=l;e.exports=u},837:function(e,t,i){function a(e,t,i,a){return new d.Polygon({shape:{points:e},draggable:!!i,cursor:t,drift:i,onmousemove:function(e){p.stop(e.event)},ondragend:a})}function n(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function r(e,t,i,a){return e?[[0,-x(t,_(i,0))],[M,0],[0,x(t,_(a-i,0))]]:[[0,0],[5,-5],[5,5]]}function o(e,t,i){var a=S/2,n=e.get("hoverLinkDataSize");return n&&(a=y(n,t,i,!0)/2),a}function s(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function l(e){return"vertical"===e?"ns-resize":"ew-resize"}var u=i(1),c=i(208),p=i(70),h=i(808),d=i(8),f=i(14),g=i(784),v=i(809),m=i(6),y=f.linearMap,b=u.each,x=Math.min,_=Math.max,S=12,M=6,D=h.extend({type:"visualMap.continuous",init:function(){D.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(e,t,i,a){a&&"selectDataRange"===a.type&&a.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var i=e.get("text");this._renderEndsText(t,i,0),this._renderEndsText(t,i,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,i){if(t){var a=t[1-i];a=null!=a?a+"":"";var n=this.visualMapModel,r=n.get("textGap"),o=n.itemSize,s=this._shapes.barGroup,l=this._applyTransform([o[0]/2,0===i?-r:o[1]+r],s),u=this._applyTransform(0===i?"bottom":"top",s),c=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new d.Text({style:{x:l[0],y:l[1],textVerticalAlign:"horizontal"===c?"middle":u,textAlign:"horizontal"===c?u:"center",text:a,textFont:p.getFont(),textFill:p.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,i=this._shapes,n=t.itemSize,r=this._orient,o=this._useHandle,s=v.getItemAlign(t,this.api,n),c=i.barGroup=this._createBarGroup(s);c.add(i.outOfRange=a()),c.add(i.inRange=a(null,o?l(this._orient):null,u.bind(this._dragHandle,this,"all",!1),u.bind(this._dragHandle,this,"all",!0)));var p=t.textStyleModel.getTextRect("国"),h=_(p.width,p.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(c,0,n,h,r,s),this._createHandle(c,1,n,h,r,s)),this._createIndicator(c,n,h,r),e.add(c)},_createHandle:function(e,t,i,r,o){var s=u.bind(this._dragHandle,this,t,!1),c=u.bind(this._dragHandle,this,t,!0),h=a(n(t,r),l(this._orient),s,c);h.position[0]=i[0],e.add(h);var f=this.visualMapModel.textStyleModel,g=new d.Text({draggable:!0,drift:s,onmousemove:function(e){p.stop(e.event)},ondragend:c,style:{x:0,y:0,text:"",textFont:f.getFont(),textFill:f.getTextColor()}});this.group.add(g);var v=["horizontal"===o?r/2:1.5*r,"horizontal"===o?0===t?-1.5*r:1.5*r:0===t?-r/2:r/2],m=this._shapes;m.handleThumbs[t]=h,m.handleLabelPoints[t]=v,m.handleLabels[t]=g},_createIndicator:function(e,t,i,n){var r=a([[0,0]],"move");r.position[0]=t[0],r.attr({invisible:!0,silent:!0}),e.add(r);var o=this.visualMapModel.textStyleModel,s=new d.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(s);var l=["horizontal"===n?i/2:M+3,0],u=this._shapes;u.indicator=r,u.indicatorLabel=s,u.indicatorLabelPoint=l},_dragHandle:function(e,t,i,a){if(this._useHandle){if(this._dragging=!t,!t){var n=this._applyTransform([i,a],this._shapes.barGroup,!0);this._updateInterval(e,n[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():s(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),i=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[y(t[0],i,a,!0),y(t[1],i,a,!0)]},_updateInterval:function(e,t){t=t||0;var i=this.visualMapModel,a=this._handleEnds,n=[0,i.itemSize[1]];g(t,a,n,e,0);var r=i.getExtent();this._dataInterval=[y(a[0],n,r,!0),y(a[1],n,r,!0)]},_updateView:function(e){var t=this.visualMapModel,i=t.getExtent(),a=this._shapes,n=[0,t.itemSize[1]],r=e?n:this._handleEnds,o=this._createBarVisual(this._dataInterval,i,r,"inRange"),s=this._createBarVisual(i,i,n,"outOfRange");a.inRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape("points",o.barPoints),a.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(r,o)},_createBarVisual:function(e,t,i,a){var n={forceState:a,convertOpacityToAlpha:!0},r=this._makeColorGradient(e,n),o=[this.getControllerVisual(e[0],"symbolSize",n),this.getControllerVisual(e[1],"symbolSize",n)],s=this._createBarPoints(i,o);return{barColor:new c(0,0,0,1,r),barPoints:s,handlesColor:[r[0].color,r[r.length-1].color]}},_makeColorGradient:function(e,t){var i=[],a=(e[1]-e[0])/100;i.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var n=1;n<100;n++){var r=e[0]+a*n;if(r>e[1])break;i.push({color:this.getControllerVisual(r,"color",t),offset:n/100})}return i.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),i},_createBarPoints:function(e,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,i=this.visualMapModel.get("inverse");return new d.Group("horizontal"!==t||i?"horizontal"===t&&i?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||i?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,n=i.handleThumbs,r=i.handleLabels;b([0,1],function(o){var s=n[o];s.setStyle("fill",t.handlesColor[o]),s.position[1]=e[o];var l=d.applyTransform(i.handleLabelPoints[o],d.getTransform(s,this.group));r[o].setStyle({x:l[0],y:l[1],text:a.formatValueText(this._dataInterval[o]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===o?"bottom":"top":"left",i.barGroup)})},this)}},_showIndicator:function(e,t,i,a){var n=this.visualMapModel,o=n.getExtent(),s=n.itemSize,l=[0,s[1]],u=y(e,o,l,!0),c=this._shapes,p=c.indicator;if(p){p.position[1]=u,p.attr("invisible",!1),p.setShape("points",r(!!i,a,u,s[1]));var h={convertOpacityToAlpha:!0},f=this.getControllerVisual(e,"color",h);p.setStyle("fill",f);var g=d.applyTransform(c.indicatorLabelPoint,d.getTransform(p,this.group)),v=c.indicatorLabel;v.attr("invisible",!1);var m=this._applyTransform("left",c.barGroup),b=this._orient;v.setStyle({text:(i||"")+n.formatValueText(t),textVerticalAlign:"horizontal"===b?m:"middle",textAlign:"horizontal"===b?"center":m,x:g[0],y:g[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,a=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);a[1]=x(_(0,a[1]),i[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var n=[0,a[1]],r=i.getExtent();e=x(_(n[0],e),n[1]);var l=o(i,r,n),u=[e-l,e+l],c=y(e,n,r,!0),p=[y(u[0],n,r,!0),y(u[1],n,r,!0)];u[0]<n[0]&&(p[0]=-1/0),u[1]>n[1]&&(p[1]=1/0),t&&(p[0]===-1/0?this._showIndicator(c,p[1],"< ",l):p[1]===1/0?this._showIndicator(c,p[0],"> ",l):this._showIndicator(c,c,"≈ ",l));var h=this._hoverLinkDataIndices,d=[];(t||s(i))&&(d=this._hoverLinkDataIndices=i.findTargetDataIndices(p));var f=m.compressBatches(h,d);this._dispatchHighDown("downplay",v.makeHighDownBatch(f[0],i)),this._dispatchHighDown("highlight",v.makeHighDownBatch(f[1],i))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,i=this.visualMapModel;if(t&&null!=t.dataIndex){var a=this.ecModel.getSeriesByIndex(t.seriesIndex);if(i.isTargetSeries(a)){var n=a.getData(t.dataType),r=n.get(i.getDataDimension(n),t.dataIndex,!0);isNaN(r)||this._showIndicator(r,r)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",v.makeHighDownBatch(e,this.visualMapModel)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,i,a){var n=d.getTransform(t,a?null:this.group);return d[u.isArray(e)?"applyTransform":"transformDirection"](e,n,i)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}}),V=D;e.exports=V},838:function(e,t,i){function a(e,t){var i=e.inverse;("vertical"===e.orient?!i:i)&&t.reverse()}var n=i(16),r=(n.__DEV__,i(1)),o=i(806),s=i(782),l=i(807),u=i(14),c=u.reformIntervals,p=o.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){p.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();h[this._mode].call(this),this._resetSelected(e,t);var a=this.option.categories;this.resetVisual(function(e,t){"categories"===i?(e.mappingMethod="category",e.categories=r.clone(a)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=r.map(this._pieceList,function(e){var e=r.clone(e);return"inRange"!==t&&(e.visual=null),e}))})},completeVisualOption:function(){function e(e,t,i){return e&&e[t]&&(r.isObject(e[t])?e[t].hasOwnProperty(i):e[t]===i)}var t=this.option,i={},a=s.listVisualTypes(),n=this.isCategory();r.each(t.pieces,function(e){r.each(a,function(t){e.hasOwnProperty(t)&&(i[t]=1)})}),r.each(i,function(i,a){var o=0;r.each(this.stateList,function(i){o|=e(t,i,a)||e(t.target,i,a)},this),!o&&r.each(this.stateList,function(e){(t[e]||(t[e]={}))[a]=l.get(a,"inRange"===e?"active":"inactive",n)})},this),o.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var i=this.option,a=this._pieceList,n=(t?i:e).selected||{};if(i.selected=n,r.each(a,function(e,t){var i=this.getSelectedMapKey(e);n.hasOwnProperty(i)||(n[i]=!0)},this),"single"===i.selectedMode){var o=!1;r.each(a,function(e,t){var i=this.getSelectedMapKey(e);n[i]&&(o?n[i]=!1:o=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=r.clone(e)},getValueState:function(e){var t=s.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(i){var a=[],n=i.getData();n.each(this.getDataDimension(n),function(t,i){s.findPieceIndex(t,this._pieceList)===e&&a.push(i)},this),t.push({seriesId:i.id,dataIndex:a})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var i=e.interval||[];t=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return t},getVisualMeta:function(e){function t(t,r){var o=n.getRepresentValue({interval:t});r||(r=n.getValueState(o));var s=e(o,r);t[0]===-1/0?a[0]=s:t[1]===1/0?a[1]=s:i.push({value:t[0],color:s},{value:t[1],color:s})}if(!this.isCategory()){var i=[],a=[],n=this,o=this._pieceList.slice();if(o.length){var s=o[0].interval[0];s!==-1/0&&o.unshift({interval:[-1/0,s]}),s=o[o.length-1].interval[1],s!==1/0&&o.push({interval:[s,1/0]})}else o.push({interval:[-1/0,1/0]});var l=-1/0;return r.each(o,function(e){var i=e.interval;i&&(i[0]>l&&t([l,i[0]],"outOfRange"),t(i.slice()),l=i[1])},this),{stops:i,outerColors:a}}}}),h={splitNumber:function(){var e=this.option,t=this._pieceList,i=Math.min(e.precision,20),a=this.getExtent(),n=e.splitNumber;n=Math.max(parseInt(n,10),1),e.splitNumber=n;for(var o=(a[1]-a[0])/n;+o.toFixed(i)!==o&&i<5;)i++;e.precision=i,o=+o.toFixed(i),e.minOpen&&t.push({interval:[-1/0,a[0]],close:[0,0]});for(var s=0,l=a[0];s<n;l+=o,s++){var u=s===n-1?a[1]:l+o;t.push({interval:[l,u],close:[1,1]})}e.maxOpen&&t.push({interval:[a[1],1/0],close:[0,0]}),c(t),r.each(t,function(e,t){e.index=t,e.text=this.formatValueText(e.interval)},this)},categories:function(){var e=this.option;r.each(e.categories,function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})},this),a(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;r.each(e.pieces,function(e,i){r.isObject(e)||(e={value:e});var a={text:"",index:i};if(null!=e.label&&(a.text=e.label),e.hasOwnProperty("value")){var n=a.value=e.value;a.interval=[n,n],a.close=[1,1]}else{for(var o=a.interval=[],l=a.close=[0,0],u=[1,0,1],c=[-1/0,1/0],p=[],h=0;h<2;h++){for(var d=[["gte","gt","min"],["lte","lt","max"]][h],f=0;f<3&&null==o[h];f++)o[h]=e[d[f]],l[h]=u[f],p[h]=2===f;null==o[h]&&(o[h]=c[h])}p[0]&&o[1]===1/0&&(l[0]=0),p[1]&&o[0]===-1/0&&(l[1]=0),o[0]===o[1]&&l[0]&&l[1]&&(a.value=o[0])}a.visual=s.retrieveVisuals(e),t.push(a)},this),a(e,t),c(t),r.each(t,function(e){var t=e.close,i=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,i)},this)}},d=p;e.exports=d},839:function(e,t,i){var a=i(1),n=i(808),r=i(8),o=i(95),s=o.createSymbol,l=i(42),u=i(809),c=n.extend({type:"visualMap.piecewise",doRender:function(){function e(e){var o=e.piece,l=new r.Group;l.onclick=a.bind(this._onItemClick,this,o),this._enableHoverLink(l,e.indexInModelPieceList);var h=i.getRepresentValue(o);if(this._createItemSymbol(l,h,[0,0,p[0],p[1]]),f){var d=this.visualMapModel.getValueState(h);l.add(new r.Text({style:{x:"right"===c?-n:p[0]+n,y:p[1]/2,text:o.text,textVerticalAlign:"middle",textAlign:c,textFont:s,textFill:u,opacity:"outOfRange"===d?.5:1}}))}t.add(l)}var t=this.group;t.removeAll();var i=this.visualMapModel,n=i.get("textGap"),o=i.textStyleModel,s=o.getFont(),u=o.getTextColor(),c=this._getItemAlign(),p=i.itemSize,h=this._getViewData(),d=h.endsText,f=a.retrieve(i.get("showLabel",!0),!d);d&&this._renderEndsText(t,d[0],p,f,c),a.each(h.viewPieceList,e,this),d&&this._renderEndsText(t,d[1],p,f,c),l.box(i.get("orient"),t,i.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(e,t){function i(e){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:e,batch:u.makeHighDownBatch(i.findTargetDataIndices(t),i)})}e.on("mouseover",a.bind(i,this,"highlight")).on("mouseout",a.bind(i,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return u.getItemAlign(e,this.api,e.itemSize);var i=t.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(e,t,i,a,n){if(t){var o=new r.Group,s=this.visualMapModel.textStyleModel;o.add(new r.Text({style:{x:a?"right"===n?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:a?n:"center",text:t,textFont:s.getFont(),textFill:s.getTextColor()}})),e.add(o)}},_getViewData:function(){var e=this.visualMapModel,t=a.map(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),i=e.get("text"),n=e.get("orient"),r=e.get("inverse");return("horizontal"===n?r:!r)?t.reverse():i&&(i=i.slice().reverse()),{viewPieceList:t,endsText:i}},_createItemSymbol:function(e,t,i){e.add(s(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,i=t.option,n=a.clone(i.selected),r=t.getSelectedMapKey(e);"single"===i.selectedMode?(n[r]=!0,a.each(n,function(e,t){n[t]=t===r})):n[r]=!n[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}}),p=c;e.exports=p},840:function(e,t,i){var a=i(13);i(841),i(842),a.registerPreprocessor(function(e){e.markLine=e.markLine||{}})},841:function(e,t,i){var a=i(794),n=a.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});e.exports=n},842:function(e,t,i){function a(e){return!isNaN(e)&&!isFinite(e)}function n(e,t,i,n){var r=1-e,o=n.dimensions[e];return a(t[r])&&a(i[r])&&t[e]===i[e]&&n.getAxis(o).containData(t[e])}function r(e,t){if("cartesian2d"===e.type){var i=t[0].coord,a=t[1].coord;if(i&&a&&(n(1,i,a,e)||n(0,i,a,e)))return!0}return p.dataFilter(e,t[0])&&p.dataFilter(e,t[1])}function o(e,t,i,n,r){var o,s=n.coordinateSystem,l=e.getItemModel(t),u=c.parsePercent(l.get("x"),r.getWidth()),p=c.parsePercent(l.get("y"),r.getHeight());if(isNaN(u)||isNaN(p)){if(n.getMarkerPosition)o=n.getMarkerPosition(e.getValues(e.dimensions,t));else{var h=s.dimensions,d=e.get(h[0],t),f=e.get(h[1],t);o=s.dataToPoint([d,f])}if("cartesian2d"===s.type){var g=s.getAxis("x"),v=s.getAxis("y"),h=s.dimensions;a(e.get(h[0],t))?o[0]=g.toGlobalCoord(g.getExtent()[i?0:1]):a(e.get(h[1],t))&&(o[1]=v.toGlobalCoord(v.getExtent()[i?0:1]))}isNaN(u)||(o[0]=u),isNaN(p)||(o[1]=p)}else o=[u,p];e.setItemLayout(t,o)}function s(e,t,i){var a;a=e?l.map(e&&e.dimensions,function(e){var i=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return l.defaults({name:e},i)}):[{name:"value",type:"float"}];var n=new u(a,i),o=new u(a,i),s=new u([],i),c=l.map(i.get("data"),l.curry(v,t,e,i));e&&(c=l.filter(c,l.curry(r,e)));var h=e?p.dimValueGetter:function(e){return e.value};return n.initData(l.map(c,function(e){return e[0]}),null,h),o.initData(l.map(c,function(e){return e[1]}),null,h),s.initData(l.map(c,function(e){return e[2]})),s.hasItemOption=!0,{from:n,to:o,line:s}}var l=i(1),u=i(126),c=i(14),p=i(795),h=i(798),d=i(796),f=i(68),g=f.getStackedDimension,v=function(e,t,i,a){var n=e.getData(),r=a.type;if(!l.isArray(a)&&("min"===r||"max"===r||"average"===r||"median"===r||null!=a.xAxis||null!=a.yAxis)){var o,s;if(null!=a.yAxis||null!=a.xAxis)o=t.getAxis(null!=a.yAxis?"y":"x"),s=l.retrieve(a.yAxis,a.xAxis);else{var u=p.getAxisInfo(a,n,t,e);o=u.valueAxis;var c=g(n,u.valueDataDim);s=p.numCalculate(n,c,r)}var h="x"===o.dim?0:1,d=1-h,f=l.clone(a),v={};f.type=null,f.coord=[],v.coord=[],f.coord[d]=-1/0,v.coord[d]=1/0;var m=i.get("precision");m>=0&&"number"==typeof s&&(s=+s.toFixed(Math.min(m,20))),f.coord[h]=v.coord[h]=s,a=[f,v,{type:r,valueIndex:a.valueIndex,value:s}]}return a=[p.dataTransform(e,a[0]),p.dataTransform(e,a[1]),l.extend({},a[2])],a[2].type=a[2].type||"",l.merge(a[2],a[0]),l.merge(a[2],a[1]),a},m=d.extend({type:"markLine",updateTransform:function(e,t,i){t.eachSeries(function(e){var t=e.markLineModel;if(t){var a=t.getData(),n=t.__from,r=t.__to;n.each(function(t){o(n,t,!0,e,i),o(r,t,!1,e,i)}),a.each(function(e){a.setItemLayout(e,[n.getItemLayout(e),r.getItemLayout(e)])}),this.markerGroupMap.get(e.id).updateLayout()}},this)},renderSeries:function(e,t,i,a){function n(t,i,n){var r=t.getItemModel(i);o(t,i,n,e,a),t.setItemVisual(i,{symbolRotate:r.get("symbolRotate"),symbolSize:r.get("symbolSize")||b[n?0:1],symbol:r.get("symbol",!0)||y[n?0:1],color:r.get("itemStyle.color")||c.getVisual("color")})}var r=e.coordinateSystem,u=e.id,c=e.getData(),p=this.markerGroupMap,d=p.get(u)||p.set(u,new h);this.group.add(d.group);var f=s(r,e,t),g=f.from,v=f.to,m=f.line;t.__from=g,t.__to=v,t.setData(m);var y=t.get("symbol"),b=t.get("symbolSize");l.isArray(y)||(y=[y,y]),"number"==typeof b&&(b=[b,b]),f.from.each(function(e){n(g,e,!0),n(v,e,!1)}),m.each(function(e){var t=m.getItemModel(e).get("lineStyle.color");m.setItemVisual(e,{color:t||g.getItemVisual(e,"color")}),m.setItemLayout(e,[g.getItemLayout(e),v.getItemLayout(e)]),m.setItemVisual(e,{fromSymbolRotate:g.getItemVisual(e,"symbolRotate"),fromSymbolSize:g.getItemVisual(e,"symbolSize"),fromSymbol:g.getItemVisual(e,"symbol"),toSymbolRotate:v.getItemVisual(e,"symbolRotate"),toSymbolSize:v.getItemVisual(e,"symbolSize"),toSymbol:v.getItemVisual(e,"symbol")})}),d.updateData(m),f.line.eachItemGraphicEl(function(e,i){e.traverse(function(e){e.dataModel=t})}),d.__keep=!0,d.group.silent=t.get("silent")||e.get("silent")}});e.exports=m},843:function(e,t,i){function a(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var n=i(8),r=i(18),o=n.Line.prototype,s=n.BezierCurve.prototype,l=n.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){this[a(t)?"_buildPathLine":"_buildPathCurve"](e,t)},_buildPathLine:o.buildPath,_buildPathCurve:s.buildPath,pointAt:function(e){return this[a(this.shape)?"_pointAtLine":"_pointAtCurve"](e)},_pointAtLine:o.pointAt,_pointAtCurve:s.pointAt,tangentAt:function(e){var t=this.shape,i=a(t)?[t.x2-t.x1,t.y2-t.y1]:this._tangentAtCurve(e);return r.normalize(i,i)},_tangentAtCurve:s.tangentAt});e.exports=l},844:function(e,t,i){var a=i(13);i(845),i(846),a.registerPreprocessor(function(e){e.markPoint=e.markPoint||{}})},845:function(e,t,i){var a=i(794),n=a.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});e.exports=n},846:function(e,t,i){function a(e,t,i){var a=t.coordinateSystem;e.each(function(n){var r,o=e.getItemModel(n),l=s.parsePercent(o.get("x"),i.getWidth()),u=s.parsePercent(o.get("y"),i.getHeight());if(isNaN(l)||isNaN(u)){if(t.getMarkerPosition)r=t.getMarkerPosition(e.getValues(e.dimensions,n));else if(a){var c=e.get(a.dimensions[0],n),p=e.get(a.dimensions[1],n);r=a.dataToPoint([c,p])}}else r=[l,u];isNaN(l)||(r[0]=l),isNaN(u)||(r[1]=u),e.setItemLayout(n,r)})}function n(e,t,i){var a;a=e?r.map(e&&e.dimensions,function(e){var i=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return r.defaults({name:e},i)}):[{name:"value",type:"float"}];var n=new l(a,i),o=r.map(i.get("data"),r.curry(u.dataTransform,t));return e&&(o=r.filter(o,r.curry(u.dataFilter,e))),n.initData(o,null,e?u.dimValueGetter:function(e){return e.value}),n}var r=i(1),o=i(309),s=i(14),l=i(126),u=i(795),c=i(796),p=c.extend({type:"markPoint",updateTransform:function(e,t,i){t.eachSeries(function(e){var t=e.markPointModel;t&&(a(t.getData(),e,i),this.markerGroupMap.get(e.id).updateLayout(t))},this)},renderSeries:function(e,t,i,s){var l=e.coordinateSystem,u=e.id,c=e.getData(),p=this.markerGroupMap,h=p.get(u)||p.set(u,new o),d=n(l,e,t);t.setData(d),a(t.getData(),e,s),d.each(function(e){var i=d.getItemModel(e),a=i.getShallow("symbol"),n=i.getShallow("symbolSize"),o=i.getShallow("symbolRotate"),s=r.isFunction(a),l=r.isFunction(n),u=r.isFunction(o);if(s||l||u){var p=t.getRawValue(e),h=t.getDataParams(e);s&&(a=a(p,h)),l&&(n=n(p,h)),u&&(o=o(p,h))}d.setItemVisual(e,{symbol:a,symbolSize:n,symbolRotate:o,color:i.get("itemStyle.color")||c.getVisual("color")})}),h.updateData(d),this.group.add(h.group),d.eachItemGraphicEl(function(e){e.traverse(function(e){e.dataModel=t})}),h.__keep=!0,h.group.silent=t.get("silent")||e.get("silent")}});e.exports=p},882:function(e,t,i){"use strict";function a(e,t,i){return r.a.get("/drive/getDriveInfoByGroupIdAndPage/"+e+"/"+t+"/"+i)}function n(e){return r.a.get("/drive/getRecordByHash/"+e)}t.a=a,t.b=n;var r=i(777)}});